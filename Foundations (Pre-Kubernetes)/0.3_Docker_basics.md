🧠 0.3 – Docker Basics: Images, Containers, Dockerfile, Volumes

    - Before using Kubernetes, you must understand Docker, because Kubernetes runs and manages containers,
      and Docker is the most common tool for creating those containers.

    🐳 What is Docker?

        - Docker is a platfrom that lets you.

            - Package your app (and everything it needs) into one box (called a container).
            - And run that box anywhere - on your laptop, server or cloud.

            - It solves the classic problem.
                - 'It works on my computer but not on the server'

    🔄 Key Docker Concepts (Super Important):

        📦 1. Docker Image

            - Think of an image like a blueprint for your app.

            - It's a read -only file that contains.
                - Your application
                - Dependencies (lie Python, Node.js, etc)
                - System tools, configs, etc.

            - It's like a recipe book.

            🧠 Tip: An image is built once and then run many times.

        🚀 2. Docker Container

            A container is a running version of a Docker image.

             - It's like cooking a dish from a recipe.
             - Containers are isolated environments.
             - You can have many containers running from the same image.

        🏗️ 3. Dockerfile

            A Dockerfile is a text file with instructions to build a Docker image.

                - Think of it like:

                    - A  to-do list for Docker to follow when building the app.

            🔧 Sample Dockerfile:

                # Use a base image
                    FROM node:18

                # Set working directory
                    WORKDIR /app

                # Copy app files
                    COPY . .

                # Install dependencies
                    RUN npm install

                # Run the app

                    CMD ["node", "index.js"]
            
            🔧 Build and Run:

                docker build -t myapp .
                docker run myapp
            
            🧠 Tip: Every line in Dockerfile creates a layer (like a cake slice) → that’s how caching works.

        💾 4. Docker Volumes

            Volumes let yo store data outside the container so it's not lost when the container stops.

                - Imagine you are using a database - you don't want to lose all your data when the container restarts, right?

            🔧 Create & Use Volume:

                docker volume create mydata
                docker run -v mydata:/data busybox

                - Or directly with a folder.

                docker run -v /host/folder:/app/data myimage

            🧠 Tip: Volumes are managed by Docker and can be reused by different containers.

        🖼️ Putting It All Together

            | Concept    | Think of it like...           | Real World Analogy                |
            | ---------- | ----------------------------- | --------------------------------- |
            | Dockerfile | Recipe                        | A cooking recipe                  |
            | Image      | Prepared meal in freezer      | A frozen pizza                    |
            | Container  | Cooking & eating the meal     | Heating and eating the pizza      |
            | Volume     | Storage outside the container | A fridge where you keep leftovers |

        🧪 Common Docker Commands Cheat Sheet:

            | Action                      | Command                           |
            | --------------------------- | --------------------------------- |
            | Download image              | `docker pull nginx`               |
            | Run container               | `docker run nginx`                |
            | Run with port mapping       | `docker run -p 8080:80 nginx`     |
            | List containers             | `docker ps`                       |
            | Stop a container            | `docker stop <id>`                |
            | Remove a container          | `docker rm <id>`                  |
            | List images                 | `docker images`                   |
            | Build image from Dockerfile | `docker build -t myapp .`         |
            | Run with volume             | `docker run -v myvol:/data myapp` |

        🌍 Where Do Docker Images Come From?

            Most Docker images come from:
            👉 https://hub.docker.com – the Docker Hub
            It’s like a Play Store for Docker images.

        🧠 Why Learn Docker Before Kubernetes?

            Because Kubernetes uses Docker-style containers. You’ll use:

                Images → to deploy apps

                Dockerfiles → to build images

                Volumes → to store app data

                Commands → to debug and test locally

            If you skip this, Kubernetes will feel like flying a plane without knowing how a car works.

        🎯 Summary (Sticky Notes)


            | Term       | Simple Meaning                      |
            | ---------- | ----------------------------------- |
            | Docker     | Tool to create and run containers   |
            | Image      | App + OS snapshot                   |
            | Container  | A running app from an image         |
            | Dockerfile | File with steps to build an image   |
            | Volume     | External storage for container data |

    🐳 Docker Basic Commands for Freshers (With Simple Explanations)

        📦 1. Check if Docker is working

            - docker --version

            👉 Shows installed Docker version. If this works, Docker is correctly installed.

            - docker info

            👉 Shows system details like number of containers, images, etc.

        📥 2. Download (Pull) an Image

            - docker pull nginx

            👉 Downloads the nginx image from Docker Hub (official Docker store) to your system.

        📃 3. List Available Images

            - docker images

            👉 shows all images that you have downloaded on your computer.

        🚀 4. Run a Container

            - docker run nginx

            👉 Starts a container from the nginx image. It shows logs and runs in foreground mode.

            - docker run -d nginx

            👉 Runs the container in the background (detached mode).

            - docker run -d -p 8080:80 nginx

            👉 Run and map your computer's port 8080 to the container's port 80
                // Open browser: http://localhost:8080

        🧭 5. List Running Containers

            - docker ps

            👉 Shows containers that are currently running.

            - docker ps -a

            👉 Shows all containers, including stopped ones.

        🛑 6. Stop & Remove Containers

            - docker stop <container_id_or_name>

            👉 Stops a running container.

            - docker rm <container_id_or_name>

            👉 Deletes a container (must be stopped first).

        🧹 7. Remove Unused Images and Containers

            - docker system prune

            👉 Cleans up all stopped containers, unused images, and junk.

        🧰 8. Build Docker Image from Dockerfile

            - docker build -t myapp .

            👉 Builds an image called myapp from the current directory (.)

        🚀 9. Run Your Custom Image

            - docker run myapp

            👉 Runs the image you built.

        📂 10. Use Docker Volume (to Save Data)

            - docker volume create myvolume

            👉 Creates a named volume.

            - docker run -v myvolume:/data myimage

            👉 Attaches the volume to the container at /data

        📄 11. Show Container Logs

            -  docker logs <container_id_or_name>

            👉 Shows what's happening inside the container (output of app running inside).

        💻 12. Run a Command Inside Container

            - docker exec -it <container_id> bash

            👉 Opens a terminal inside the running container. You can explore like Linux.

        🔍 13. Inspect Container or Image

            - docker inspect <container_or_image_id>

            👉 Gives full JSON data (config, network, mount, etc.)

        📤 14. Push Image to Docker Hub (Optional)
            * You need to sign in and create Docker Hub account

            - docker login

            - docker tag myapp yourusername/myapp
            - docker push yourusername/myapp

            👉 Upload your image to Docker Hub.

        🔁 15. Restart, Pause, Resume Containers

            - docker restart <container_id>
            - docker pause <container_id>
            - docker unpause <container_id>

            👉 Control container state like start/stop/pause.

        🛠️ 16. Remove Image

            - docker rmi nginx

            👉 Deletes the nginx image from your local system.

        🔁 17. Tag an Image

            - docker tag myapp myapp:v1

            👉 Add a version label (v1) to your image.

    📄 Dockerfile Commands – Explained for Freshers (with Examples)

        - A Dockerfile is a simple text file with instructions for Docker on how to build your app image step-by-step.

        - Each line is a command (Called a Dockerfile instruction). Let's go over them one-by-one, with easy examples.

        🔧 1. FROM – Set Base Image

            * Every Dockerfile must start with a base image (like Linux _ a language).

                - FROM node:18

            * This means: start with Node.js version 18 on Linux.
            * Other examples: FROM ubuntu, FROM python:3.11, FROM nginx.

        📂 2. WORKDIR – Set Working Directory

            * This changes the folder inside the image where commands will run.

                - WORKDIR /app

            * It's like running 'cd /app'
            * All following commands (COPY, RUN, CMD) happen in this folder.

        📥 3. COPY – Copy Files from Your PC into the Image

            - COPY . . # copy everything from your current folder to /app
            - COPY package.json ./ # copy only one file

            * Left = your local PC
            * Right = inside the Docker image.

        🛠️ 4. RUN – Run Commands While Building Image

            - RUN npm install
            - RUN apt-get update && apt-get install -y curl

            * Runs when the image is being built, not when the container runs.
            * Think of it like installing software during image creation.

        🧪 5. CMD – Default Command When Container Starts

            - CMD ["node", "index.js"]

            * This is the command Docker will run when the container starts.
            * Should be the last command in the file.

            🧠 Tip: If someone runs your image, this is what will happen by default.

        🗣️ 6. ENTRYPOINT – Similar to CMD but More Strict

            - ENTRYPOINT ["python"]
            - CMD ["app.py"]

            * This will run: python app.py
            * ENTRYPOINT is used when you always want the same entry command.

        🧹 7. ENV – Set Environment Variables

            - ENV PORT=3000
            - ENV NODE_ENV=production

            * Useful for settings, configs, secrets (don't put passwords here in real-world apps)

        🔓 8. EXPOSE – Document a Port

            - EXPOSE 3000

            * Tells Docker that your app listens on port 3000.
            * It doesn't publish the port - that's done in 'docker run -p'
            
        🔁 9. ARG – Build-time Variables

            - ARG VERSION=1.0

            * Can be used with --build-arg when building.

            - docker build --build-arg VERSION=2.0 -t myapp .

        📦 10. VOLUME – Declare a Volume Mount Point

            - VOLUME /app/data

            * Says: this folder should use external volume when running container.
            * Helps keep data even if the container is removed.

        💻 11. LABEL – Add Metadata

            - LABEL author="Roshan"
            - LABEL version="1.0"

            * Helps identify who built the image, its version, etc.

        🔄 12. USER – Run as Specific User
         
            - USER node

            * Good practice: don't run containers as root in production.